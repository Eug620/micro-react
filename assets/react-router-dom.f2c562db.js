import{c as e,r as t}from"https://eug620.github.io/micro-react/assets/acro-design.4ef35e85.js";var n,r;(r=n||(n={})).Pop="POP",r.Push="PUSH",r.Replace="REPLACE";var a=function(e){return e},o="beforeunload",s="hashchange",l="popstate";function i(t){void 0===t&&(t={});var r=t.window,i=void 0===r?document.defaultView:r,f=i.history;function d(){var e=p(i.location.hash.substr(1)),t=e.pathname,n=void 0===t?"/":t,r=e.search,o=void 0===r?"":r,s=e.hash,l=void 0===s?"":s,u=f.state||{};return[u.idx,a({pathname:n,search:o,hash:l,state:u.usr||null,key:u.key||"default"})]}var m=null;function v(){if(m)E.call(m),m=null;else{var e=n.Pop,t=d(),r=t[0],a=t[1];if(E.length){if(null!=r){var o=y-r;o&&(m={action:e,location:a,retry:function(){A(-1*o)}},A(o))}}else k(e)}}i.addEventListener(l,v),i.addEventListener(s,(function(){h(d()[1])!==h(b)&&v()}));var g=n.Pop,x=d(),y=x[0],b=x[1],P=c(),E=c();function C(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var n=i.location.href,r=n.indexOf("#");t=-1===r?n:n.slice(0,r)}return t}()+"#"+("string"==typeof e?e:h(e))}function S(t,n){return void 0===n&&(n=null),a(e({pathname:b.pathname,hash:"",search:""},"string"==typeof t?p(t):t,{state:n,key:Math.random().toString(36).substr(2,8)}))}function w(e,t){return[{usr:e.state,key:e.key,idx:t},C(e)]}function $(e,t,n){return!E.length||(E.call({action:e,location:t,retry:n}),!1)}function k(e){g=e;var t=d();y=t[0],b=t[1],P.call({action:g,location:b})}function A(e){f.go(e)}null==y&&(y=0,f.replaceState(e({},f.state,{idx:y}),""));var O={get action(){return g},get location(){return b},createHref:C,push:function e(t,r){var a=n.Push,o=S(t,r);if($(a,o,(function(){e(t,r)}))){var s=w(o,y+1),l=s[0],u=s[1];try{f.pushState(l,"",u)}catch(c){i.location.assign(u)}k(a)}},replace:function e(t,r){var a=n.Replace,o=S(t,r);if($(a,o,(function(){e(t,r)}))){var s=w(o,y),l=s[0],i=s[1];f.replaceState(l,"",i),k(a)}},go:A,back:function(){A(-1)},forward:function(){A(1)},listen:function(e){return P.push(e)},block:function(e){var t=E.push(e);return 1===E.length&&i.addEventListener(o,u),function(){t(),E.length||i.removeEventListener(o,u)}}};return O}function u(e){e.preventDefault(),e.returnValue=""}function c(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function h(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,a=void 0===r?"":r,o=e.hash,s=void 0===o?"":o;return a&&"?"!==a&&(n+="?"===a.charAt(0)?a:"?"+a),s&&"#"!==s&&(n+="#"===s.charAt(0)?s:"#"+s),n}function p(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}
/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const f=t.exports.createContext(null),d=t.exports.createContext(null),m=t.exports.createContext({outlet:null,matches:[]});function v(e,t){if(!e)throw new Error(t)}function g(e,t,n){void 0===n&&(n="/");let r=R(("string"==typeof t?p(t):t).pathname||"/",n);if(null==r)return null;let a=x(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s)o=k(a[s],r);return o}function x(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach(((e,a)=>{let o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||v(!1),o.relativePath=o.relativePath.slice(r.length));let s=W([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&v(!1),x(e.children,t,l,s)),(null!=e.path||e.index)&&t.push({path:s,score:$(s,e.index),routesMeta:l})})),t}const y=/^:\w+$/,b=3,P=2,E=1,C=10,S=-2,w=e=>"*"===e;function $(e,t){let n=e.split("/"),r=n.length;return n.some(w)&&(r+=S),t&&(r+=P),n.filter((e=>!w(e))).reduce(((e,t)=>e+(y.test(t)?b:""===t?E:C)),r)}function k(e,t){let{routesMeta:n}=e,r={},a="/",o=[];for(let s=0;s<n.length;++s){let e=n[s],l=s===n.length-1,i="/"===a?t:t.slice(a.length)||"/",u=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},i);if(!u)return null;Object.assign(r,u.params);let c=e.route;o.push({params:r,pathname:W([a,u.pathname]),pathnameBase:B(W([a,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(a=W([a,u.pathnameBase]))}return o}function A(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,((e,t)=>(r.push(t),"([^\\/]+)")));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";let o=new RegExp(a,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let o=a[0],s=o.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=l[n]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function O(e,t,n){let r,a="string"==typeof e?p(e):e,o=""===e||""===a.pathname?"/":a.pathname;if(null==o)r=n;else{let e=t.length-1;if(o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}r=e>=0?t[e]:"/"}let s=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"==typeof e?p(e):e,o=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:o,search:L(r),hash:j(a)}}(a,r);return o&&"/"!==o&&o.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}const W=e=>e.join("/").replace(/\/\/+/g,"/"),B=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function M(){return null!=t.exports.useContext(d)}function I(){return M()||v(!1),t.exports.useContext(d).location}function U(){M()||v(!1);let{basename:e,navigator:n}=t.exports.useContext(f),{matches:r}=t.exports.useContext(m),{pathname:a}=I(),o=JSON.stringify(r.map((e=>e.pathnameBase))),s=t.exports.useRef(!1);return t.exports.useEffect((()=>{s.current=!0})),t.exports.useCallback((function(t,r){if(void 0===r&&(r={}),!s.current)return;if("number"==typeof t)return void n.go(t);let l=O(t,JSON.parse(o),a);"/"!==e&&(l.pathname=W([e,l.pathname])),(r.replace?n.replace:n.push)(l,r.state)}),[e,n,o,a])}const H=t.exports.createContext(null);function N(){let{matches:e}=t.exports.useContext(m),n=e[e.length-1];return n?n.params:{}}function T(e,n){M()||v(!1);let{matches:r}=t.exports.useContext(m),a=r[r.length-1],o=a?a.params:{};!a||a.pathname;let s=a?a.pathnameBase:"/";a&&a.route;let l,i=I();if(n){var u;let e="string"==typeof n?p(n):n;"/"===s||(null==(u=e.pathname)?void 0:u.startsWith(s))||v(!1),l=e}else l=i;let c=l.pathname||"/",h=g(e,{pathname:"/"===s?c:c.slice(s.length)||"/"});return function(e,n){void 0===n&&(n=[]);return null==e?null:e.reduceRight(((r,a,o)=>t.exports.createElement(m.Provider,{children:void 0!==a.route.element?a.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,o+1))}})),null)}(h&&h.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:W([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:W([s,e.pathnameBase])}))),r)}function J(e){let{to:n,replace:r,state:a}=e;M()||v(!1);let o=U();return t.exports.useEffect((()=>{o(n,{replace:r,state:a})})),null}function V(e){return function(e){let n=t.exports.useContext(m).outlet;return n?t.exports.createElement(H.Provider,{value:e},n):n}(e.context)}function q(e){let{basename:r="/",children:a=null,location:o,navigationType:s=n.Pop,navigator:l,static:i=!1}=e;M()&&v(!1);let u=B(r),c=t.exports.useMemo((()=>({basename:u,navigator:l,static:i})),[u,l,i]);"string"==typeof o&&(o=p(o));let{pathname:h="/",search:m="",hash:g="",state:x=null,key:y="default"}=o,b=t.exports.useMemo((()=>{let e=R(h,u);return null==e?null:{pathname:e,search:m,hash:g,state:x,key:y}}),[u,h,m,g,x,y]);return null==b?null:t.exports.createElement(f.Provider,{value:c},t.exports.createElement(d.Provider,{children:a,value:{location:b,navigationType:s}}))}
/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D(e){let{basename:n,children:r,window:a}=e,o=t.exports.useRef();null==o.current&&(o.current=i({window:a}));let s=o.current,[l,u]=t.exports.useState({action:s.action,location:s.location});return t.exports.useLayoutEffect((()=>s.listen(u)),[s]),t.exports.createElement(q,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}function F(e){let n=t.exports.useRef(z(e)),r=I(),a=t.exports.useMemo((()=>{let e=z(r.search);for(let t of n.current.keys())e.has(t)||n.current.getAll(t).forEach((n=>{e.append(t,n)}));return e}),[r.search]),o=U();return[a,t.exports.useCallback(((e,t)=>{o("?"+z(e),t)}),[o])]}function z(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map((e=>[n,e])):[[n,r]])}),[]))}export{D as H,J as N,V as O,I as a,N as b,F as c,T as d,U as u};
